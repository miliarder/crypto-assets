{"ast":null,"code":"import _toConsumableArray from\"/Users/sandro.brayen/Documents/private-project/crypto-asset/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/Users/sandro.brayen/Documents/private-project/crypto-asset/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/sandro.brayen/Documents/private-project/crypto-asset/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/sandro.brayen/Documents/private-project/crypto-asset/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useMemo}from'react';import ImageMasonry from'react-image-masonry';import{Chart}from'react-google-charts';import Item from'./components/Item';import Note from'./components/Note';import redDot from'./img/red-dot.png';import greenDot from'./img/green-dot.png';import'./style.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var formatter=new Intl.NumberFormat('id',{style:'currency',currency:'IDR',minimumFractionDigits:0,maximumFractionDigits:0});var pairs={btc_idr:{asset:0.03399115,// 0.01750036 + 0.01649079\nname:'BTC',color:'#EBAC1C'},eth_idr:{asset:0.56478735,name:'ETH',color:'#000000'},ada_idr:{asset:836.181224,// 553.115524 + 283.0657\nname:'ADA',color:'#1365EA'},theta_idr:{asset:92.9453,name:'THETA',color:'#5C50DD'},bnb_idr:{asset:0.6151854,name:'BNB',color:'#FC5731'},/*  xrp_idr: {\n    asset: 0,\n    name: 'XRP',\n    color: '#5CACDD'\n  },\n  tfuel_idr: {\n    asset: 0,\n    name: 'TFUEL',\n    color: '#CFE542'\n  },\n  uni_idr: {\n    asset: 0,\n    name: 'UNI',\n    color: '#fcc19b',\n  },\n  link_idr: {\n    asset: 0,\n    name: 'LINK',\n    color: '#fcc19b',\n  },\n  doge_idr: {\n    asset: 0,\n    name: 'DOGE',\n    color: '#fce51c',\n  },*/usdt_idr:{asset:1129*0,name:'USDT',color:'#8c8c8c'}};var modal=61419031-4971934-2200714-3367336+10000000+5000000;var timer;export default function App(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),grandTotal=_useState2[0],setTotal=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),summary=_useState4[0],setSummary=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),precent=_useState6[0],setPercent=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),BTCTotal=_useState8[0],setBTCTotal=_useState8[1];useEffect(function(){clearInterval(timer);var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,data,tickers,total,summaryData,keys,i,key,coin,name,color,price,v,growthPercent;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"https://indodax.com/api/summaries\",{cache:'no-cache'});case 3:res=_context.sent;_context.next=6;return res.json();case 6:data=_context.sent;tickers=data.tickers;total=0;summaryData={};keys=Object.keys(pairs);for(i=0;i<keys.length;i++){key=keys[i];coin=pairs[key].asset;name=pairs[key].name;color=pairs[key].color;price=tickers[key].last;v=coin*Number(price);if(name==='BTC'){setBTCTotal(v);}summaryData[key]={pair:key.replace('_','').toUpperCase(),color:color,name:name,coin:coin,price:price,total:v};total+=v;}growthPercent=((total-modal)/(modal/100)).toFixed(1);setTotal(total);setSummary(summaryData);setPercent(growthPercent);document.title=\"My Gain:  \".concat(formatter.format(total-modal),\" (\").concat(growthPercent,\"%)\");timer=setTimeout(function(){fetchData();},3000);_context.next=24;break;case 20:_context.prev=20;_context.t0=_context[\"catch\"](0);console.log('error',_context.t0);fetchData();case 24:case\"end\":return _context.stop();}}},_callee,null,[[0,20]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);var isLoss=grandTotal<modal;var gain=grandTotal-modal;useEffect(function(){var favicon=document.getElementById('favicon');favicon.href=isLoss?redDot:greenDot;},[isLoss]);var TP=(gain/(grandTotal/100)).toFixed(1);var TPwtBTC=(gain/((grandTotal-BTCTotal)/100)).toFixed(1);return/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'rgba(0, 0, 0, 0.8)'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive table-striped\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table table-dark table-striped\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Asset\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Total\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[Object.keys(summary).map(function(key){var _summary$key=summary[key],coin=_summary$key.coin,price=_summary$key.price,total=_summary$key.total,name=_summary$key.name,pair=_summary$key.pair;return/*#__PURE__*/_jsx(Item,{pair:pair,coin:coin,price:price,name:name,total:total,isLoss:isLoss,TPwtBTC:TPwtBTC,TP:TP},key);}),/*#__PURE__*/_jsx(Item,{price:\"Total:\",total:grandTotal,isBold:true})]})]})}),/*#__PURE__*/_jsx(\"div\",{style:{padding:20},children:grandTotal>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert \".concat(isLoss?'alert-danger':'alert-success'),children:[\"Gain\",' ',/*#__PURE__*/_jsxs(\"strong\",{children:[formatter.format(gain),\" (\",precent,\"%)\"]}),isLoss&&/*#__PURE__*/_jsx(Note,{total:grandTotal,losses:Math.abs(gain)})]})}),/*#__PURE__*/_jsx(\"div\",{style:{width:500,maxWidth:'100%'},className:\"cart\",children:/*#__PURE__*/_jsx(Chart,{width:'100%',height:'300px',chartType:\"PieChart\",loader:/*#__PURE__*/_jsx(\"div\",{}),data:[['Asset','Value']].concat(_toConsumableArray(Object.keys(summary).map(function(key){var _summary$key2=summary[key],coin=_summary$key2.coin,price=_summary$key2.price,total=_summary$key2.total,name=_summary$key2.name,color=_summary$key2.color;return[name,total];}))),rootProps:{'data-testid':'1'},options:{backgroundColor:'333333',legend:{textStyle:{color:'white'}}}})}),/*#__PURE__*/_jsx(ImageMasonry,{imageUrls:['https://media.giphy.com/media/XUojAIMYIIOQ9tpx2s/giphy.gif','https://media.giphy.com/media/mz7iww9tCUnJJeZvGN/giphy.gif','https://media.giphy.com/media/sTgTWEcVGK7CW3BQa7/giphy.gif','https://media.giphy.com/media/DxbAro4C39Qi5kJmPb/giphy.gif','https://media.giphy.com/media/qjSxTWJxqH4YDuIrOs/giphy.gif','https://media.giphy.com/media/KI9oNS4JBemyI/giphy.gif','https://media.giphy.com/media/7FBY7h5Psqd20/giphy.gif','https://media.giphy.com/media/Ogak8XuKHLs6PYcqlp/giphy.gif','https://media.giphy.com/media/FknIfejNbViSs/giphy.gif'],numCols:3,containerWidth:'100%'}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'none'},children:[/*#__PURE__*/_jsx(\"img\",{src:redDot}),/*#__PURE__*/_jsx(\"img\",{src:greenDot})]})]});}","map":{"version":3,"sources":["/Users/sandro.brayen/Documents/private-project/crypto-asset/src/App.js"],"names":["React","useEffect","useState","useMemo","ImageMasonry","Chart","Item","Note","redDot","greenDot","formatter","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","pairs","btc_idr","asset","name","color","eth_idr","ada_idr","theta_idr","bnb_idr","usdt_idr","modal","timer","App","grandTotal","setTotal","summary","setSummary","precent","setPercent","BTCTotal","setBTCTotal","clearInterval","fetchData","fetch","cache","res","json","data","tickers","total","summaryData","keys","Object","i","length","key","coin","price","last","v","Number","pair","replace","toUpperCase","growthPercent","toFixed","document","title","format","setTimeout","console","log","isLoss","gain","favicon","getElementById","href","TP","TPwtBTC","backgroundColor","map","padding","Math","abs","width","maxWidth","legend","textStyle","display"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useMemo } from 'react';\nimport ImageMasonry from 'react-image-masonry';\nimport { Chart } from 'react-google-charts';\nimport Item from './components/Item';\nimport Note from './components/Note';\nimport redDot from './img/red-dot.png';\nimport greenDot from './img/green-dot.png';\nimport './style.scss';\n\nconst formatter = new Intl.NumberFormat('id', {\n  style: 'currency',\n  currency: 'IDR',\n  minimumFractionDigits: 0,\n  maximumFractionDigits: 0\n});\n\nconst pairs = {\n  btc_idr: {\n    asset: 0.03399115, // 0.01750036 + 0.01649079\n    name: 'BTC',\n    color: '#EBAC1C'\n  },\n  eth_idr: {\n    asset: 0.56478735,\n    name: 'ETH',\n    color: '#000000',\n  },\n  ada_idr: {\n    asset: 836.181224, // 553.115524 + 283.0657\n    name: 'ADA',\n    color: '#1365EA'\n  },\n  theta_idr: {\n    asset: 92.9453,\n    name: 'THETA',\n    color: '#5C50DD'\n  },\n  bnb_idr: {\n    asset: 0.6151854,\n    name: 'BNB',\n    color: '#FC5731'\n  },\n/*  xrp_idr: {\n    asset: 0,\n    name: 'XRP',\n    color: '#5CACDD'\n  },\n  tfuel_idr: {\n    asset: 0,\n    name: 'TFUEL',\n    color: '#CFE542'\n  },\n  uni_idr: {\n    asset: 0,\n    name: 'UNI',\n    color: '#fcc19b',\n  },\n  link_idr: {\n    asset: 0,\n    name: 'LINK',\n    color: '#fcc19b',\n  },\n  doge_idr: {\n    asset: 0,\n    name: 'DOGE',\n    color: '#fce51c',\n  },*/\n  usdt_idr: {\n    asset: 1129 * 0,\n    name: 'USDT',\n    color: '#8c8c8c'\n  },\n};\n\nconst modal = 61419031 - 4971934 - 2200714 - 3367336 + 10000000 + 5000000;\n\nlet timer;\n\nexport default function App() {\n  const [grandTotal, setTotal] = useState(0);\n  const [summary, setSummary] = useState({});\n  const [precent, setPercent] = useState(0);\n  const [BTCTotal, setBTCTotal] = useState(0);\n\n  useEffect(() => {\n    clearInterval(timer);\n    const fetchData = async () => {\n      try {\n        const res = await fetch(`https://indodax.com/api/summaries`, {\n          cache: 'no-cache'\n        });\n        const data = await res.json();\n\n        const { tickers } = data;\n        let total = 0;\n\n        const summaryData = {};\n\n        let keys = Object.keys(pairs);\n        for (let i = 0; i < keys.length; i++) {\n          let key = keys[i];\n          const coin = pairs[key].asset;\n          const name = pairs[key].name;\n          const color = pairs[key].color;\n          const { last: price } = tickers[key];\n          const v = coin * Number(price);\n\n          if(name === 'BTC') {\n            setBTCTotal(v);\n          }\n\n          summaryData[key] = {\n            pair: key.replace('_','').toUpperCase(),\n            color,\n            name,\n            coin,\n            price: price,\n            total: v\n          };\n          total += v;\n        }\n\n        const growthPercent = ((total - modal) / (modal / 100)).toFixed(1);\n\n        setTotal(total);\n        setSummary(summaryData);\n        setPercent(growthPercent);\n        document.title = `My Gain:  ${formatter.format(\n          total - modal\n        )} (${growthPercent}%)`;\n\n        timer = setTimeout(() => {\n          fetchData();\n        }, 3000);\n      } catch (e) {\n        console.log('error', e);\n        fetchData();\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  const isLoss = grandTotal < modal;\n  const gain = grandTotal - modal;\n\n  useEffect(() => {\n    const favicon = document.getElementById('favicon');\n    favicon.href = isLoss ? redDot : greenDot;\n  }, [isLoss]);\n\n  const TP = (gain / (grandTotal / 100)).toFixed(1);\n  const TPwtBTC = (gain / ((grandTotal - BTCTotal) / 100)).toFixed(1);\n\n  return (\n    <div style={{backgroundColor: 'rgba(0, 0, 0, 0.8)'}}>\n      <div className=\"table-responsive table-striped\">\n        <table className=\"table table table-dark table-striped\">\n          <thead>\n            <tr>\n              <th>Asset</th>\n              <th>Price</th>\n              <th>Total</th>\n             {/* <th>TP</th>*/}\n            </tr>\n          </thead>\n          <tbody>\n            {Object.keys(summary).map(key => {\n              const { coin, price, total, name, pair } = summary[key];\n              return (\n                <Item\n                  pair={pair}\n                  key={key}\n                  coin={coin}\n                  price={price}\n                  name={name}\n                  total={total}\n                  isLoss={isLoss}\n                  TPwtBTC={TPwtBTC}\n                  TP={TP}\n                />\n              );\n            })}\n            <Item price=\"Total:\" total={grandTotal} isBold />\n          </tbody>\n        </table>\n      </div>\n      <div style={{ padding: 20 }}>\n        {grandTotal > 0 && (\n          <div className={`alert ${isLoss ? 'alert-danger' : 'alert-success'}`}>\n            Gain{' '}\n            <strong>\n              {formatter.format(gain)} ({precent}%)\n            </strong>\n\n            {/* !isLoss && ` | TP ${TP}%\n            or ${TPwtBTC}% ALTs` */}\n\n            {isLoss && <Note total={grandTotal} losses={Math.abs(gain)}/>}\n          </div>\n        )}\n      </div>\n      <div style={{ width: 500, maxWidth: '100%' }} className=\"cart\">\n        <Chart\n          width={'100%'}\n          height={'300px'}\n          chartType=\"PieChart\"\n          loader={<div />}\n          data={[\n            ['Asset', 'Value'],\n            ...Object.keys(summary).map(key => {\n              const { coin, price, total, name, color } = summary[key];\n              return [name, total];\n            })\n          ]}\n          rootProps={{ 'data-testid': '1' }}\n          options={{\n            backgroundColor: '333333',\n            legend: {\n              textStyle: {\n                color: 'white'\n              }\n            }\n          }}\n        />\n      </div>\n      <ImageMasonry\n        imageUrls={[\n          'https://media.giphy.com/media/XUojAIMYIIOQ9tpx2s/giphy.gif',\n          'https://media.giphy.com/media/mz7iww9tCUnJJeZvGN/giphy.gif',\n          'https://media.giphy.com/media/sTgTWEcVGK7CW3BQa7/giphy.gif',\n          'https://media.giphy.com/media/DxbAro4C39Qi5kJmPb/giphy.gif',\n          'https://media.giphy.com/media/qjSxTWJxqH4YDuIrOs/giphy.gif',\n          'https://media.giphy.com/media/KI9oNS4JBemyI/giphy.gif',\n          'https://media.giphy.com/media/7FBY7h5Psqd20/giphy.gif',\n          'https://media.giphy.com/media/Ogak8XuKHLs6PYcqlp/giphy.gif',\n          'https://media.giphy.com/media/FknIfejNbViSs/giphy.gif'\n        ]}\n        numCols={3}\n        containerWidth={'100%'}\n      />\n\n      <div style={{ display: 'none' }}>\n        <img src={redDot} />\n        <img src={greenDot} />\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}