{"ast":null,"code":"import _toConsumableArray from\"/Users/sandro.brayen/Documents/private-project/crypto-asset/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/Users/sandro.brayen/Documents/private-project/crypto-asset/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/sandro.brayen/Documents/private-project/crypto-asset/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/sandro.brayen/Documents/private-project/crypto-asset/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useMemo}from'react';import ImageMasonry from'react-image-masonry';import{Chart}from'react-google-charts';import Item from'./components/Item';import Note from'./components/Note';import redDot from'./img/red-dot.png';import greenDot from'./img/green-dot.png';import'./style.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var formatter=new Intl.NumberFormat('id',{style:'currency',currency:'IDR',minimumFractionDigits:0,maximumFractionDigits:0});var pairs={btc_idr:{asset:0.10091006//cold\n+0.02801289,//tokocrypto\nname:'BTC',color:'#EBAC1C'},eth_idr:{asset:0.56278735//cold\n+0.02641785,//tokocrypto\nname:'ETH',color:'#000000'},ada_idr:{asset:2497.666734// 553.115524 + 283.0657 + 169.829 + 924.22351 + 567.433\n+52.43694,//tokocrypto\nname:'ADA',color:'#1365EA'},theta_idr:{asset:177.9221,name:'THETA',color:'#5C50DD'},bnb_idr:{asset:0.61486509,name:'BNB',color:'#FC5731'},cake_idr:{asset:5.7543806,name:'CAKE',color:'#5CACDD'},uni_idr:{asset:5.81466346,name:'UNI',color:'#fcc19b'},link_idr:{asset:5.37634408,name:'LINK',color:'#fcc19b'},sol_idr:{asset:3.76353346,name:'SOL',color:'#5CACDD'},xrp_idr:{asset:46.95399,name:'XRP',color:'#CFE542'},doge_idr:{asset:1023.80390000,name:'DOGE',color:'#fce51c'},usdt_idr:{asset:1129*0,name:'USDT',color:'#8c8c8c'}};function fngColouring(indexValue){var colorCode='';if(indexValue>=90){colorCode='65c64c';}if(indexValue<90){colorCode='79d23c';}if(indexValue<=75){colorCode='9bbe44';}if(indexValue<=63){colorCode='c6bf22';}if(indexValue<=54){colorCode='dfce60';}if(indexValue<=46){colorCode='d8bc59';}if(indexValue<=35){colorCode='e39d64';}if(indexValue<=25){colorCode='d17339';}if(indexValue<=10){colorCode='b74d34';}return colorCode;}var modal=61419031-4971934-2200714-3367336+10000000+5000000+5000000+1000000+1500000+1500000+1500000+2000000+2500000+3000000+3000000+2000000+1500000+1500000+1500000+3000000+3000000+2483889+3500000+3000000+3000000+1000000+1000000+381600+619504+5000000+2504010+4000000+4000000+1500000+750000+500000+250000+3000000;var timer;export default function App(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),grandTotal=_useState2[0],setTotal=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),summary=_useState4[0],setSummary=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),precent=_useState6[0],setPercent=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),BTCTotal=_useState8[0],setBTCTotal=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),fearIndex=_useState10[0],setFearIndex=_useState10[1];var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),rsi=_useState12[0],setRsi=_useState12[1];useEffect(function(){clearInterval(timer);var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,data,tickers,total,summaryData,keys,i,key,coin,name,color,price,v,growthPercent,_res,_data,_res2,_data2;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"https://indodax.com/api/summaries\",{cache:'no-cache'});case 3:res=_context.sent;_context.next=6;return res.json();case 6:data=_context.sent;tickers=data.tickers;total=0;summaryData={};keys=Object.keys(pairs);for(i=0;i<keys.length;i++){key=keys[i];coin=pairs[key].asset;name=pairs[key].name;color=pairs[key].color;price=tickers[key].last;v=coin*Number(price);if(name==='BTC'){setBTCTotal(v);}summaryData[key]={pair:key.replace('_','').toUpperCase(),color:color,name:name,coin:coin,price:price,total:v};total+=v;}growthPercent=((total-modal)/(modal/100)).toFixed(1);setTotal(total);setSummary(summaryData);setPercent(growthPercent);document.title=\"My Gain:  \".concat(formatter.format(total-modal),\" (\").concat(growthPercent,\"%)\");timer=setTimeout(function(){fetchData();},3000);_context.next=24;break;case 20:_context.prev=20;_context.t0=_context[\"catch\"](0);console.log('error',_context.t0);fetchData();case 24:_context.prev=24;_context.next=27;return fetch(\"https://api.alternative.me/fng/?limit=2\",{cache:'no-cache'});case 27:_res=_context.sent;_context.next=30;return _res.json();case 30:_data=_context.sent;setFearIndex(_data.data);_context.next=37;break;case 34:_context.prev=34;_context.t1=_context[\"catch\"](24);console.log('error',_context.t1);case 37:_context.prev=37;_context.next=40;return fetch(\"https://api.taapi.io/rsi?secret=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InNhbmRyb2JyYXllbkBnbWFpbC5jb20iLCJpYXQiOjE2NDI4ODQyNTksImV4cCI6Nzk1MDA4NDI1OX0.ZYR1fjAYGGkUgW1DpcUxYbB4cQ9ff9jHSJCWg5YShAc&exchange=binance&symbol=BTC/USDT&interval=1d\");case 40:_res2=_context.sent;_context.next=43;return _res2.json();case 43:_data2=_context.sent;if(_data2.value){setRsi(_data2.value);}_context.next=50;break;case 47:_context.prev=47;_context.t2=_context[\"catch\"](37);console.log('error',_context.t2);case 50:case\"end\":return _context.stop();}}},_callee,null,[[0,20],[24,34],[37,47]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);var isLoss=grandTotal<modal;var gain=grandTotal-modal;useEffect(function(){var favicon=document.getElementById('favicon');favicon.href=isLoss?redDot:greenDot;},[isLoss]);var TP=(gain/(grandTotal/100)).toFixed(1);var TPwtBTC=(gain/((grandTotal-BTCTotal)/100)).toFixed(1);console.log(fearIndex);var todayFearIndex=fearIndex===null||fearIndex===void 0?void 0:fearIndex[0];return/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'rgba(0, 0, 0, 0.8)',height:'100%'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive table-striped\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table table-dark table-striped\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Asset\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Total\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[Object.keys(summary).map(function(key){var _summary$key=summary[key],coin=_summary$key.coin,price=_summary$key.price,total=_summary$key.total,name=_summary$key.name,pair=_summary$key.pair;return/*#__PURE__*/_jsx(Item,{pair:pair,coin:coin,price:price,name:name,total:total,isLoss:isLoss,TPwtBTC:TPwtBTC,TP:TP},key);}),/*#__PURE__*/_jsx(Item,{price:\"Total:\",total:grandTotal,isBold:true})]})]})}),/*#__PURE__*/_jsx(\"div\",{style:{padding:20},children:grandTotal>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert \".concat(isLoss?'alert-danger':'alert-success'),children:[\"Gain\",' ',/*#__PURE__*/_jsxs(\"strong\",{children:[formatter.format(gain),\" (\",precent,\"%)\"]}),isLoss&&/*#__PURE__*/_jsx(Note,{total:grandTotal,losses:Math.abs(gain)})]})}),/*#__PURE__*/_jsx(\"div\",{style:{width:500,maxWidth:'100%'},className:\"cart\",children:/*#__PURE__*/_jsx(Chart,{width:'100%',height:'300px',chartType:\"PieChart\",loader:/*#__PURE__*/_jsx(\"div\",{}),data:[['Asset','Value']].concat(_toConsumableArray(Object.keys(summary).map(function(key){var _summary$key2=summary[key],coin=_summary$key2.coin,price=_summary$key2.price,total=_summary$key2.total,name=_summary$key2.name,color=_summary$key2.color;return[name,total];}))),rootProps:{'data-testid':'1'},options:{backgroundColor:'333333',legend:{textStyle:{color:'white'}}}})}),todayFearIndex&&/*#__PURE__*/_jsx(\"div\",{style:{padding:20},children:/*#__PURE__*/_jsxs(\"div\",{className:\"alert\",style:{backgroundColor:\"#\".concat(fngColouring(+(todayFearIndex===null||todayFearIndex===void 0?void 0:todayFearIndex.value)))},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Fear Index\"}),\": \",todayFearIndex===null||todayFearIndex===void 0?void 0:todayFearIndex.value_classification,\" \",/*#__PURE__*/_jsx(\"strong\",{children:+(todayFearIndex===null||todayFearIndex===void 0?void 0:todayFearIndex.value)})]})}),rsi>0&&/*#__PURE__*/_jsxs(\"div\",{style:{padding:20,paddingTop:0,marginTop:-15,color:'white'},children:[\"Daily RSI : \",/*#__PURE__*/_jsx(\"strong\",{children:rsi.toFixed(2)})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'none'},children:[/*#__PURE__*/_jsx(\"img\",{src:redDot}),/*#__PURE__*/_jsx(\"img\",{src:greenDot})]})]});}","map":{"version":3,"sources":["/Users/sandro.brayen/Documents/private-project/crypto-asset/src/App.js"],"names":["React","useEffect","useState","useMemo","ImageMasonry","Chart","Item","Note","redDot","greenDot","formatter","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","pairs","btc_idr","asset","name","color","eth_idr","ada_idr","theta_idr","bnb_idr","cake_idr","uni_idr","link_idr","sol_idr","xrp_idr","doge_idr","usdt_idr","fngColouring","indexValue","colorCode","modal","timer","App","grandTotal","setTotal","summary","setSummary","precent","setPercent","BTCTotal","setBTCTotal","fearIndex","setFearIndex","rsi","setRsi","clearInterval","fetchData","fetch","cache","res","json","data","tickers","total","summaryData","keys","Object","i","length","key","coin","price","last","v","Number","pair","replace","toUpperCase","growthPercent","toFixed","document","title","format","setTimeout","console","log","value","isLoss","gain","favicon","getElementById","href","TP","TPwtBTC","todayFearIndex","backgroundColor","height","map","padding","Math","abs","width","maxWidth","legend","textStyle","value_classification","paddingTop","marginTop","display"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useMemo } from 'react';\nimport ImageMasonry from 'react-image-masonry';\nimport { Chart } from 'react-google-charts';\nimport Item from './components/Item';\nimport Note from './components/Note';\nimport redDot from './img/red-dot.png';\nimport greenDot from './img/green-dot.png';\nimport './style.scss';\n\nconst formatter = new Intl.NumberFormat('id', {\n  style: 'currency',\n  currency: 'IDR',\n  minimumFractionDigits: 0,\n  maximumFractionDigits: 0\n});\n\nconst pairs = {\n  btc_idr: {\n    asset: 0.10091006 //cold\n        + 0.02801289, //tokocrypto\n    name: 'BTC',\n    color: '#EBAC1C'\n  },\n  eth_idr: {\n    asset: 0.56278735 //cold\n        + 0.02641785, //tokocrypto\n    name: 'ETH',\n    color: '#000000',\n  },\n  ada_idr: {\n    asset: 2497.666734 // 553.115524 + 283.0657 + 169.829 + 924.22351 + 567.433\n        + 52.43694, //tokocrypto\n    name: 'ADA',\n    color: '#1365EA'\n  },\n  theta_idr: {\n    asset: 177.9221,\n    name: 'THETA',\n    color: '#5C50DD'\n  },\n  bnb_idr: {\n    asset: 0.61486509,\n    name: 'BNB',\n    color: '#FC5731'\n  },\n  cake_idr: {\n    asset: 5.7543806,\n    name: 'CAKE',\n    color: '#5CACDD'\n  },\n  uni_idr: {\n    asset: 5.81466346,\n    name: 'UNI',\n    color: '#fcc19b',\n  },\n  link_idr: {\n    asset: 5.37634408,\n    name: 'LINK',\n    color: '#fcc19b',\n  },\n  sol_idr: {\n    asset: 3.76353346,\n    name: 'SOL',\n    color: '#5CACDD'\n  },\n  xrp_idr: {\n    asset: 46.95399,\n    name: 'XRP',\n    color: '#CFE542'\n  },\n  doge_idr: {\n    asset: 1023.80390000,\n    name: 'DOGE',\n    color: '#fce51c',\n  },\n  usdt_idr: {\n    asset: 1129 * 0,\n    name: 'USDT',\n    color: '#8c8c8c'\n  },\n};\n\nfunction fngColouring(indexValue) {\n  let colorCode = ''\n  if (indexValue >= 90) { colorCode = '65c64c'}\n  if (indexValue <  90) { colorCode = '79d23c'}\n  if (indexValue <= 75) { colorCode = '9bbe44'}\n  if (indexValue <= 63) { colorCode = 'c6bf22'}\n  if (indexValue <= 54) { colorCode = 'dfce60'}\n  if (indexValue <= 46) { colorCode = 'd8bc59'}\n  if (indexValue <= 35) { colorCode = 'e39d64'}\n  if (indexValue <= 25) { colorCode = 'd17339'}\n  if (indexValue <= 10) { colorCode = 'b74d34'}\n\n  return colorCode\n}\n\nconst modal = 61419031 - 4971934 - 2200714 - 3367336 + 10000000 + 5000000 +\n  5000000 + 1000000 + 1500000 + 1500000 + 1500000 + 2000000 + 2500000 + 3000000 +\n    3000000 + 2000000 + 1500000 + 1500000 + 1500000 + 3000000 + 3000000 +\n    2483889 + 3500000 + 3000000 + 3000000 + 1000000 + 1000000 + 381600 + 619504 + 5000000 + 2504010 + 4000000 + 4000000 + 1500000 + 750000 + 500000 + 250000 + 3000000;\n\nlet timer;\n\nexport default function App() {\n  const [grandTotal, setTotal] = useState(0);\n  const [summary, setSummary] = useState({});\n  const [precent, setPercent] = useState(0);\n  const [BTCTotal, setBTCTotal] = useState(0);\n\n  const [fearIndex, setFearIndex] = useState([]);\n  const [rsi, setRsi] = useState(0);\n\n  useEffect(() => {\n\n    clearInterval(timer);\n    const fetchData = async () => {\n      try {\n        const res = await fetch(`https://indodax.com/api/summaries`, {\n          cache: 'no-cache'\n        });\n        const data = await res.json();\n\n        const { tickers } = data;\n        let total = 0;\n\n        const summaryData = {};\n\n        let keys = Object.keys(pairs);\n        for (let i = 0; i < keys.length; i++) {\n          let key = keys[i];\n          const coin = pairs[key].asset;\n          const name = pairs[key].name;\n          const color = pairs[key].color;\n          const { last: price } = tickers[key];\n          const v = coin * Number(price);\n\n          if(name === 'BTC') {\n            setBTCTotal(v);\n          }\n\n          summaryData[key] = {\n            pair: key.replace('_','').toUpperCase(),\n            color,\n            name,\n            coin,\n            price: price,\n            total: v\n          };\n          total += v;\n        }\n\n        const growthPercent = ((total - modal) / (modal / 100)).toFixed(1);\n\n        setTotal(total);\n        setSummary(summaryData);\n        setPercent(growthPercent);\n        document.title = `My Gain:  ${formatter.format(\n          total - modal\n        )} (${growthPercent}%)`;\n\n        timer = setTimeout(() => {\n          fetchData();\n        }, 3000);\n      } catch (e) {\n        console.log('error', e);\n        fetchData();\n      }\n\n      try {\n        const res = await fetch(`https://api.alternative.me/fng/?limit=2`, {\n          cache: 'no-cache'\n        });\n\n        const data = await res.json();\n        setFearIndex(data.data);\n      } catch (e){\n        console.log('error', e);\n      }\n\n      try {\n        const res = await fetch(`https://api.taapi.io/rsi?secret=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InNhbmRyb2JyYXllbkBnbWFpbC5jb20iLCJpYXQiOjE2NDI4ODQyNTksImV4cCI6Nzk1MDA4NDI1OX0.ZYR1fjAYGGkUgW1DpcUxYbB4cQ9ff9jHSJCWg5YShAc&exchange=binance&symbol=BTC/USDT&interval=1d`);\n        const data = await res.json();\n        if(data.value){\n          setRsi(data.value);\n        }\n      } catch (e) {\n        console.log('error', e);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  const isLoss = grandTotal < modal;\n  const gain = grandTotal - modal;\n\n  useEffect(() => {\n    const favicon = document.getElementById('favicon');\n    favicon.href = isLoss ? redDot : greenDot;\n  }, [isLoss]);\n\n  const TP = (gain / (grandTotal / 100)).toFixed(1);\n  const TPwtBTC = (gain / ((grandTotal - BTCTotal) / 100)).toFixed(1);\nconsole.log(fearIndex);\n  const todayFearIndex = fearIndex?.[0];\n\n  return (\n    <div style={{backgroundColor: 'rgba(0, 0, 0, 0.8)', height: '100%'}}>\n      <div className=\"table-responsive table-striped\">\n        <table className=\"table table table-dark table-striped\">\n          <thead>\n            <tr>\n              <th>Asset</th>\n              <th>Price</th>\n              <th>Total</th>\n             {/* <th>TP</th>*/}\n            </tr>\n          </thead>\n          <tbody>\n            {Object.keys(summary).map(key => {\n              const { coin, price, total, name, pair } = summary[key];\n              return (\n                <Item\n                  pair={pair}\n                  key={key}\n                  coin={coin}\n                  price={price}\n                  name={name}\n                  total={total}\n                  isLoss={isLoss}\n                  TPwtBTC={TPwtBTC}\n                  TP={TP}\n                />\n              );\n            })}\n            <Item price=\"Total:\" total={grandTotal} isBold />\n          </tbody>\n        </table>\n      </div>\n      <div style={{ padding: 20 }}>\n        {grandTotal > 0 && (\n          <div className={`alert ${isLoss ? 'alert-danger' : 'alert-success'}`}>\n            Gain{' '}\n            <strong>\n              {formatter.format(gain)} ({precent}%)\n            </strong>\n\n            {/* !isLoss && ` | TP ${TP}%\n            or ${TPwtBTC}% ALTs` */}\n\n            {isLoss && <Note total={grandTotal} losses={Math.abs(gain)}/>}\n          </div>\n        )}\n      </div>\n      <div style={{ width: 500, maxWidth: '100%' }} className=\"cart\">\n        <Chart\n          width={'100%'}\n          height={'300px'}\n          chartType=\"PieChart\"\n          loader={<div />}\n          data={[\n            ['Asset', 'Value'],\n            ...Object.keys(summary).map(key => {\n              const { coin, price, total, name, color } = summary[key];\n              return [name, total];\n            })\n          ]}\n          rootProps={{ 'data-testid': '1' }}\n          options={{\n            backgroundColor: '333333',\n            legend: {\n              textStyle: {\n                color: 'white'\n              }\n            }\n          }}\n        />\n      </div>\n\n      {todayFearIndex && <div style={{padding: 20}}>\n        <div className={`alert`} style={{backgroundColor: `#${fngColouring(+todayFearIndex?.value)}`}}>\n          <strong>Fear Index</strong>: {todayFearIndex?.value_classification} <strong>{+todayFearIndex?.value}</strong>\n        </div>\n      </div>}\n\n      {rsi > 0 && (<div style={{padding: 20, paddingTop: 0, marginTop: -15, color: 'white'}}>\n        Daily RSI : <strong>{rsi.toFixed(2)}</strong>\n        </div>)}\n     {/*\n      <ImageMasonry\n        imageUrls={[\n          'https://media.giphy.com/media/XUojAIMYIIOQ9tpx2s/giphy.gif',\n          'https://media.giphy.com/media/mz7iww9tCUnJJeZvGN/giphy.gif',\n          'https://media.giphy.com/media/sTgTWEcVGK7CW3BQa7/giphy.gif',\n          'https://media.giphy.com/media/DxbAro4C39Qi5kJmPb/giphy.gif',\n          'https://media.giphy.com/media/qjSxTWJxqH4YDuIrOs/giphy.gif',\n          'https://media.giphy.com/media/KI9oNS4JBemyI/giphy.gif',\n          'https://media.giphy.com/media/7FBY7h5Psqd20/giphy.gif',\n          'https://media.giphy.com/media/Ogak8XuKHLs6PYcqlp/giphy.gif',\n          'https://media.giphy.com/media/FknIfejNbViSs/giphy.gif'\n        ]}\n        numCols={3}\n        containerWidth={'100%'}\n      />\n\n   */}\n      <div style={{ display: 'none' }}>\n        <img src={redDot} />\n        <img src={greenDot} />\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}